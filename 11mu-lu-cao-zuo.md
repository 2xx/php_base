#### 目录操作

windows系统中, 字符编码默认为ANSI 所以

```php
<?php

    header('Content-type:text/html;charset=gbk');

?>
```



#### 常用目录操作函数

> **打开目录, 读取目录, 关闭目录**

```
<
?
php


​


$dir
=
'./images/'
;


​


$hd
=
opendir
( 
$dir
 ); 
// 打开目录, 返回资源类型, 用 $hd 来代表被打开的目录


​


$f
=
readdir
( 
$hd
 ); 
// 读取目录, $f 为目录里面的文件名, 每次读出一个新的文件名


/*


读取到最后, 会返回 false


每个目录中都会有两个隐藏目录  . 和 .. 


*/


​


closedir
( 
$hd
 ); 
// 关闭目录


​


?
>
```

**file\_exists\(**带路径的文件名**\)**检查文件或目录是否存在. 存在返回 true 否则返回 false

**is\_dir\(**带路径的文件名**\)**判断一个给定的文件名是否是一个目录

**filetype\(**带路径的文件名**\)**获取文件类型

**filesize\(**带路径的文件名**\)**获取文件的大小, 单位为字节



**fileatime\(**带路径的文件名**\)**获取文件的 上一次访问时间

**filectime\(**带路径的文件名**\)**获取文件的 创建时间

**filemtime\(**带路径的文件名**\)**获取文件的 修改时间



**dirname\(**路径**\)**返回路径中的目录部分. 如果路径本身是一个目录, 函数会返回它的父目录.

**basename\(**路径**\)**返回基本的文件名

**realpath\(**文件或目录**\)**获取文件或目录 在本地电脑上的磁盘路径

**pathinfo\(**路径**\)**返回文件路径的信息



**disk\_free\_space\(**目录**\)**返回目录可用空间, 即磁盘剩余空间. 单位为字节

**disk\_total\_space\(**目录**\)**返回目录所在磁盘的空间总大小, 单位为字节



**copy\(**源文件名, 新文件名**\)**复制文件

**mkdir\(**名称**\)**新建目录

**rmdir\(**空目录名称**\)**删除一个空目录

**unlink\(**文件名**\)**删除一个文件



### 遍历目录

```


<
?
php


​


$dir
=
'./images/'
;


​


$hd
=
opendir
(
$dir
); 
// 打开目录


​


// 逐条读取目录中的文件名


while
 ( 
$f
=
readdir
(
$hd
) 
!==
false
 ) {




// 跳过目录中的 . 和 .. 目录


if
 (
$f
==
'.'
||
$hf
==
'..'
) {


continue
;


}




// 输出文件名


echo
$f
;




}


​


closedir
( 
$hd
 ); 
// 关闭目录


​


/*


在第 8 行中, 如果文件名是 '0' 会误判断为 false, 从而提前结束.跳转循环.


所以加一个 !== 判断


*/


​


?
>
```



