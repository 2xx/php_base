# OOP 封装

### 面向对象的三大特性:`封装 继承 多态`

#### public 公有

类的成员属性和成员方法, 可以在类的**外部**读取和调用.

如果成员方法前没有任何修饰符, 则默认为 public

#### private 私有

类的成员属性和成员方法, 只能在类的**内部**读取和调用.

### 魔术方法

魔术方法必须是公有的, 不信你改为私有试试~

**\_\_set\( \)**成员属性不存在,或者不允许访问, 对这样的变量**设置**时会触发调用这个函数.

```php
<?php

    class User
    {
        private $age;

        function __set($a, $b)   // 触发调用时, 会有两个参数, $a 代表属性名   $b 代表属性值
        {
               // 如果 设置的是 age  并且 在合理范围内
             if ($a == 'age' && $b > 0 && $b < 100) {
                 $this -> $a = $b;
             } 
        }
    }

    $a = new User;
    $a -> age = 40;  // 触发

?>
```

**\_\_get\( \)**

成员属性不存在,或者不允许访问, 对这样的变量**读取**时会触发调用这个函数.

```php
<?php

    class User
    {
        private $age;

        function __get( $a )    // 触发调用时, 会有一个参数, $a 代表要读取的属性名
        {
               // 如果 获取的是 age  并且 当前的一个设置为允许, 那么返回属性值
             if ($a == 'age' && 权限 == true) {
                 return $this -> age;
             } 
        }
    }
    $a = new User;
    echo $a -> age;    // 触发

?>
```

**\_\_isset\( \)**成员属性不存在,或者不允许访问, 对这样的变量**判断是否有定义**时会触发调用这个函数.

**\_\_unset\( \)**成员属性不存在,或者不允许访问, 对这样的变量**销毁**时会触发调用这个函数.



**\_\_call\( \)**成员方法不存在, 或者不允许调用, 这时会触发调用这个魔术方法.

```
<?php

	class User
	{
       function __call($a, $b)
       {
          echo $a;       // 方法名
          
          echo '<pre>';  
          print_r( $b ); // 参数数组   
       }
      
	}

   $a = new User;

   $a -> xxoo(1,2,3);  // 触发  
?>
```



